namespace = bosisi

#### MIGRATION
#Based on the desertTimer variable. if factor of two, it is migration time baby!

#currently this event does not work. I'll figure it out some day, promise.
country_event = {
	id = bosisi.1
	title = bosisi.1.t
	desc = bosisi.1.d
	picture = NATIVES_eventPicture

	trigger = {
		has_reform = desert_tribe
		check_variable = {
			which = myCountingVariable
			value = 2
		}
		NOT = {
			has_country_modifier = bosisi_migration
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		add_country_modifier = {
			name = bosisi_migration
			duration = 400
		}
	}

	option = {
		name = bosisi.1.1
		ai_chance = { factor = 1 }
	}
	option = {
		name = bosisi.1.b
		ai_chance = { factor = 4 }
		limit = {
			any_neighbour_province = {
				is_empty = yes 
		}
		capital_scope = {
			random_neighbour_province = {
				limit = {
					NOT = { has_province_flag = selected_p }
					is_empty = yes 
				}
				set_province_flag = selected_p
				cede_province = ROOT
				add_core = ROOT
			}
			set_capital = PREV
			PREV = {
				clr_province_flag = selected_p
			}
			remove_core = ROOT
			cede_province = ---
		}
	}
}

country_event = {
	id = bosisi.2
	title = bosisi.2.t
	desc = bosisi.2.d
	picture = MILITARY_CAMP_eventPicture

	trigger = {
		is_year = 249
		tag = KKR
	}
	
	mean_time_to_happen = {
		months = 4
	}

	immediate = {
		hidden_effect = {
			7239 = {
				cede_province = ALU
				change_culture = Ganush
			}
		}
	}

	option = {
		name = bosisi.2.a
		ai_chance = { factor = 9 }
		add_truce_with = ALU
		7250 = {
			cede_province = ALU
		}
		7251 = {
			cede_province = ALU
		}
	}

	option = {
		name = bosisi.2.b
		ai_chance = { factor = 1 }
		7250 = {
			create_revolt = 10
		}
		7251 = {
			create_revolt = 5
		}
	}
}